<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>OSINTDark - Discord IP Dashboard</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body {
  margin: 0;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background-color: #000;
  color: #fff;
}
header {
  padding: 2rem;
  background: linear-gradient(90deg, #001f3f, #004080);
  font-size: 3rem;
  font-weight: bold;
  color: #0f0;
  text-shadow: 0 0 10px #0f0;
  text-align: center;
}
.container { max-width: 900px; margin: 0 auto; padding: 2rem; }
.panel { 
  background: #001f3f; 
  border-radius: 10px; 
  margin: 1rem 0; 
  padding: 1.5rem; 
  box-shadow: 0 0 20px rgba(0,255,128,0.3);
}
.panel h2 { 
  margin-top: 0; 
  color: #0f0;
  cursor: pointer;
  user-select: none;
}
.collapsibleContent { display: block; }
input, textarea, select, button {
  margin: 0.5rem 0; 
  padding: 0.8rem; 
  border-radius: 6px; 
  border: none; 
  font-size: 1rem; 
}
input, select { width: 250px; }
textarea { width: 100%; height: 100px; }
button { background:#0f0; color:#000; font-weight:bold; cursor:pointer; transition:0.2s; }
button:hover { background:#0c0; color:#fff; }
pre { background:#000022; padding:1rem; border-radius:6px; overflow:auto; }
a { color: #0ff; text-decoration:none; }
#discordContact { display:flex; align-items:center; gap:10px; justify-content:center; margin-bottom:1rem; }
#discordContact img { width:24px; height:24px; }
</style>
</head>
<body>
<header>OSINTDark Dashboard</header>

<div class="container">
  <div id="discordContact">
    <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/discord.svg" alt="Discord Logo">
    Contact: <a href="https://discord.com/users/larpingattacks">@larpingattacks</a>
  </div>

  <!-- Register/Login -->
  <div class="panel" id="registerLoginPanel">
    <h2>üë§ Register / Login</h2>
    <div class="collapsibleContent">
      <p>Register to search Discord IDs and see IP info. Admins can manage users, blacklist, and view IP data.</p>
      <input type="text" id="username" placeholder="Username"><br>
      <input type="password" id="password" placeholder="Password"><br>
      <button onclick="registerUser()">Register</button>
      <button onclick="loginUser()">Login</button>
      <div id="loginMessage" style="color:#f00;"></div>
    </div>
  </div>

  <!-- User Panel -->
  <div class="panel" id="userPanel" style="display:none;">
    <h2>üîé Discord ID ‚Üí IP Lookup</h2>
    <div class="collapsibleContent">
      <input type="text" id="discordInput" placeholder="Enter Discord ID">
      <button onclick="lookupDiscordID()">Search</button>
      <div id="discordResult" style="margin-top:1rem;"></div>
    </div>
  </div>

  <!-- Admin Login -->
  <div class="panel" id="adminLoginTrigger" style="display:none;">
    <h2>‚öôÔ∏è Admin Login</h2>
    <div class="collapsibleContent">
      <input type="password" id="adminPass" placeholder="Enter admin password">
      <button onclick="loginAdmin()">Login as Admin</button>
    </div>
  </div>

  <!-- Admin Panel -->
  <div class="panel" id="adminPanel" style="display:none;">
    <h2>üõ† Admin Panel</h2>
    <div class="collapsibleContent">

      <!-- Bulk Add -->
      <h3>üì• Add DiscordID | IP</h3>
      <textarea id="dbInput" placeholder="1321603334024728710 | 71.135.90.146"></textarea>
      <button onclick="addDatabaseBulk()">Add Entries</button>
      <h4>Database Entries:</h4>
      <pre id="dbEntries"></pre>

      <!-- Blacklist -->
      <h3>üö´ Blacklist Manager</h3>
      <textarea id="blacklistInput" placeholder="Discord IDs, one per line"></textarea>
      <button onclick="updateBlacklist()">Update Blacklist</button>
      <h4>Current Blacklist:</h4>
      <pre id="blacklistDisplay"></pre>

      <!-- Users -->
      <h3>üë• Registered Users</h3>
      <pre id="userListDisplay"></pre>
      <input type="text" id="banUsername" placeholder="Username to ban">
      <button onclick="banUser()">Ban User</button>

      <!-- Admin Lookup -->
      <h3>üîé Discord ID ‚Üí Full IP Info</h3>
      <input type="text" id="adminLookupInput" placeholder="Enter Discord ID">
      <button onclick="adminLookup()">Search</button>
      <div id="adminLookupResult" style="margin-top:1rem;"></div>

    </div>
  </div>
</div>

<script>
/* Collapsible Panels */
document.querySelectorAll('.panel h2').forEach(h2=>{
  h2.addEventListener('click',()=>{ 
    const content = h2.nextElementSibling;
    content.style.display = (content.style.display==='none')?'block':'none';
  });
});

/* User Management */
function registerUser() {
  const username = document.getElementById("username").value.trim();
  const password = document.getElementById("password").value.trim();
  if(!username||!password) return alert("Fill both fields");
  let users = JSON.parse(localStorage.getItem("osintUsers")||"{}");
  if(users[username]) return alert("Username exists");
  users[username] = { password, isAdmin:false };
  localStorage.setItem("osintUsers",JSON.stringify(users));
  document.getElementById("loginMessage").textContent="Registered successfully!";
  showUserList();
}

function loginUser() {
  const username=document.getElementById("username").value.trim();
  const password=document.getElementById("password").value.trim();
  let users=JSON.parse(localStorage.getItem("osintUsers")||"{}");
  if(!users[username]||users[username].password!==password){
    return alert("Invalid username/password");
  }
  document.getElementById("registerLoginPanel").style.display="none";
  document.getElementById("userPanel").style.display="block";
  document.getElementById("adminLoginTrigger").style.display="block";
}

/* Discord ID ‚Üí IP Lookup */
function lookupDiscordID() {
  const id = document.getElementById("discordInput").value.trim();
  if(!id)return alert("Enter Discord ID");
  let blacklist = (localStorage.getItem("osintBlacklist")||"").split("\n").filter(Boolean);
  if(blacklist.includes(id)){document.getElementById("discordResult").innerHTML="Breach not found"; return;}
  let db = (localStorage.getItem("osintDB")||"").split("\n").filter(Boolean);
  const entry = db.find(line=>line.split("|")[0].trim()===id);
  if(entry){
    const ip = entry.split("|")[1].trim();
    fetch(`http://ip-api.com/json/${ip}?fields=status,message,country,city,isp,org,as,query`)
      .then(res=>res.json())
      .then(data=>{
        if(data.status!=="success"){document.getElementById("discordResult").innerHTML="Breach not found";}
        else{
          document.getElementById("discordResult").innerHTML=`<b>Discord ID:</b>${id}<br><b>IP:</b>${data.query}<br><b>Country:</b>${data.country}<br><b>City:</b>${data.city}<br><b>ISP:</b>${data.isp}<br><b>Org:</b>${data.org}<br><b>ASN:</b>${data.as}`;
        }
      }).catch(()=>document.getElementById("discordResult").innerHTML="Breach not found");
  } else document.getElementById("discordResult").innerHTML="Breach not found";
}

/* Admin */
function loginAdmin(){
  const pass=document.getElementById("adminPass").value;
  if(pass==="admin123"){
    document.getElementById("adminPanel").style.display="block";
    document.getElementById("adminLoginTrigger").style.display="none";
    showDatabase(); showBlacklist(); showUserList();
  }else alert("Wrong admin password!");
}
function addDatabaseBulk(){
  const input=document.getElementById("dbInput").value.trim();
  if(!input)return alert("Enter at least one entry");
  let db=(localStorage.getItem("osintDB")||"").split("\n").filter(Boolean);
  db.push(...input.split("\n").map(l=>l.trim()).filter(Boolean));
  localStorage.setItem("osintDB",db.join("\n"));
  document.getElementById("dbInput").value=""; showDatabase();
}
function showDatabase(){
  let db=(localStorage.getItem("osintDB")||"
